(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"0Y5R":function(e,t,a){var i=a("3CjU");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},"1WCK":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".page-tab[data-v-3fdf99dd]{position:relative}",""])},"2Sb1":function(e,t,a){"use strict";var i={name:"PageHeader",props:["title","canBack"],components:{ChevronLeftIcon:a("CjXH").h}},r=(a("JOXf"),a("KHd+")),n=Object(r.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header"},[e.canBack?a("div",{staticClass:"go-back",on:{click:function(t){return e.$router.back()}}},[a("chevron-left-icon",{attrs:{size:"17"}})],1):e._e(),e._v(" "),a("div",{staticClass:"content"},[a("h1",{staticClass:"title"},[e._v(e._s(e.title))])])])}),[],!1,null,"9fd0a424",null);t.a=n.exports},"2Vm/":function(e,t,a){var i=a("7ps5");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},"3CjU":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".page-tab-group[data-v-2b2b530c]{margin-bottom:45px}",""])},"3eeM":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".page-header[data-v-9fd0a424]{display:flex;align-items:center;background:#fff;z-index:9;width:100%;position:sticky;top:0;padding-top:20px;padding-bottom:20px}.page-header .title[data-v-9fd0a424]{font-size:1.125em;font-weight:700;color:#1b2539}.page-header .go-back[data-v-9fd0a424]{margin-right:10px;cursor:pointer}.page-header .go-back svg[data-v-9fd0a424]{vertical-align:middle;margin-top:-4px}@media only screen and (max-width:960px){.page-header .title[data-v-9fd0a424]{font-size:1.125em}}@media only screen and (max-width:690px){.page-header[data-v-9fd0a424]{display:none}}@media (prefers-color-scheme:dark){.page-header[data-v-9fd0a424]{background:#141414}.page-header .title[data-v-9fd0a424]{color:#bec6cf}.page-header .icon path[data-v-9fd0a424]{fill:#00bc7e}}",""])},"7ps5":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".form[data-v-1be0e3d8]{max-width:700px}.form.inline-form[data-v-1be0e3d8]{display:flex;position:relative;justify-content:center;margin:0 auto}.form.inline-form .input-wrapper[data-v-1be0e3d8]{position:relative}.form.inline-form .input-wrapper .error-message[data-v-1be0e3d8]{position:absolute;left:0;bottom:-25px}.form.block-form .wrapper-inline[data-v-1be0e3d8]{display:flex;margin:0 -15px}.form.block-form .wrapper-inline .block-wrapper[data-v-1be0e3d8]{width:100%;padding:0 15px}.form.block-form .block-wrapper[data-v-1be0e3d8]{margin-bottom:22px}.form.block-form .block-wrapper label[data-v-1be0e3d8]{font-size:.875em;color:rgba(27,37,57,.8);font-weight:700;display:block;margin-bottom:7px;text-align:left}.form.block-form .block-wrapper[data-v-1be0e3d8]:last-child{margin-bottom:0}.form.block-form .button[data-v-1be0e3d8]{margin-top:50px}.form .inline-wrapper[data-v-1be0e3d8]{display:flex;align-items:center;justify-content:space-between}.form .inline-wrapper .switch-label .input-help[data-v-1be0e3d8]{padding-top:0}.form .inline-wrapper .switch-label .input-label[data-v-1be0e3d8]{font-weight:700;color:#1b2539;font-size:1em;margin-bottom:5px}.form .input-help[data-v-1be0e3d8]{font-size:.75em;color:rgba(27,37,57,.7);line-height:1.35;padding-top:10px;display:block}.single-line-form[data-v-1be0e3d8]{display:flex}.single-line-form .submit-button[data-v-1be0e3d8]{margin-left:20px}.error-message[data-v-1be0e3d8]{font-size:.875em;color:#fd397a;padding-top:5px;display:block;text-align:left}textarea[data-v-1be0e3d8]{width:100%}input[type=date][data-v-1be0e3d8],input[type=email][data-v-1be0e3d8],input[type=number][data-v-1be0e3d8],input[type=password][data-v-1be0e3d8],input[type=text][data-v-1be0e3d8],textarea[data-v-1be0e3d8]{border:1px solid transparent;transition:all .15s ease;font-size:1em;border-radius:8px;padding:13px 20px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-weight:700;outline:0;width:100%;box-shadow:0 1px 5px rgba(0,0,0,.12);background:#fff}input[type=date].is-error[data-v-1be0e3d8],input[type=email].is-error[data-v-1be0e3d8],input[type=number].is-error[data-v-1be0e3d8],input[type=password].is-error[data-v-1be0e3d8],input[type=text].is-error[data-v-1be0e3d8],textarea.is-error[data-v-1be0e3d8]{border-color:#fd397a}input[type=date][data-v-1be0e3d8]::-moz-placeholder,input[type=email][data-v-1be0e3d8]::-moz-placeholder,input[type=number][data-v-1be0e3d8]::-moz-placeholder,input[type=password][data-v-1be0e3d8]::-moz-placeholder,input[type=text][data-v-1be0e3d8]::-moz-placeholder,textarea[data-v-1be0e3d8]::-moz-placeholder{color:rgba(27,37,57,.5);font-size:.9375em}input[type=date][data-v-1be0e3d8]:-ms-input-placeholder,input[type=email][data-v-1be0e3d8]:-ms-input-placeholder,input[type=number][data-v-1be0e3d8]:-ms-input-placeholder,input[type=password][data-v-1be0e3d8]:-ms-input-placeholder,input[type=text][data-v-1be0e3d8]:-ms-input-placeholder,textarea[data-v-1be0e3d8]:-ms-input-placeholder{color:rgba(27,37,57,.5);font-size:.9375em}input[type=date][data-v-1be0e3d8]::placeholder,input[type=email][data-v-1be0e3d8]::placeholder,input[type=number][data-v-1be0e3d8]::placeholder,input[type=password][data-v-1be0e3d8]::placeholder,input[type=text][data-v-1be0e3d8]::placeholder,textarea[data-v-1be0e3d8]::placeholder{color:rgba(27,37,57,.5);font-size:.9375em}input[type=date][disabled][data-v-1be0e3d8],input[type=email][disabled][data-v-1be0e3d8],input[type=number][disabled][data-v-1be0e3d8],input[type=password][disabled][data-v-1be0e3d8],input[type=text][disabled][data-v-1be0e3d8],textarea[disabled][data-v-1be0e3d8]{background:#fff;color:rgba(27,37,57,.8);-webkit-text-fill-color:rgba(27,37,57,.8);opacity:1;cursor:not-allowed}input[type=color][data-v-1be0e3d8]{width:38px!important;height:40px;border:none;outline:none;background:none;min-width:0!important}.additional-link[data-v-1be0e3d8]{font-size:1em;margin-top:50px;display:block}.additional-link a[data-v-1be0e3d8],.additional-link b[data-v-1be0e3d8]{cursor:pointer}.additional-link a[data-v-1be0e3d8]:hover,.additional-link b[data-v-1be0e3d8]:hover{text-decoration:underline}@media only screen and (max-width:1024px){.form[data-v-1be0e3d8]{max-width:100%}}@media only screen and (max-width:960px){.form .button[data-v-1be0e3d8]{margin-top:20px;width:100%;margin-left:0;margin-right:0}.form input[data-v-1be0e3d8],.form textarea[data-v-1be0e3d8]{width:100%;min-width:100%}.form.block-form .block-wrapper[data-v-1be0e3d8]{display:block}.form.block-form .block-wrapper label[data-v-1be0e3d8]{width:100%;padding-right:0;display:block;margin-bottom:7px;text-align:left!important;font-size:.875em;padding-top:0}.form.block-form .button[data-v-1be0e3d8]{margin-top:25px;margin-left:0;margin-right:0}.form.inline-form[data-v-1be0e3d8]{display:block}.form.inline-form .input-wrapper .error-message[data-v-1be0e3d8]{position:relative;bottom:0}.form .button[data-v-1be0e3d8]{padding:14px 32px}.single-line-form[data-v-1be0e3d8]{display:block}.single-line-form .submit-button[data-v-1be0e3d8]{margin-left:0;margin-top:20px;width:100%}input[type=date][data-v-1be0e3d8],input[type=email][data-v-1be0e3d8],input[type=number][data-v-1be0e3d8],input[type=password][data-v-1be0e3d8],input[type=text][data-v-1be0e3d8],textarea[data-v-1be0e3d8]{padding:14px 20px}}@media only screen and (max-width:690px){.form.block-form .wrapper-inline[data-v-1be0e3d8]{display:block;margin-bottom:32px}}@media (prefers-color-scheme:dark){.form .input-help[data-v-1be0e3d8]{color:#7d858c}.form.block-form .block-wrapper label[data-v-1be0e3d8],.form .inline-wrapper .switch-label .input-label[data-v-1be0e3d8]{color:#bec6cf}input[type=date][data-v-1be0e3d8],input[type=email][data-v-1be0e3d8],input[type=number][data-v-1be0e3d8],input[type=password][data-v-1be0e3d8],input[type=text][data-v-1be0e3d8],textarea[data-v-1be0e3d8]{border-color:#1e2024;background:#1e2024;color:#bec6cf}input[type=date][data-v-1be0e3d8]::-moz-placeholder,input[type=email][data-v-1be0e3d8]::-moz-placeholder,input[type=number][data-v-1be0e3d8]::-moz-placeholder,input[type=password][data-v-1be0e3d8]::-moz-placeholder,input[type=text][data-v-1be0e3d8]::-moz-placeholder,textarea[data-v-1be0e3d8]::-moz-placeholder{color:#7d858c}input[type=date][data-v-1be0e3d8]:-ms-input-placeholder,input[type=email][data-v-1be0e3d8]:-ms-input-placeholder,input[type=number][data-v-1be0e3d8]:-ms-input-placeholder,input[type=password][data-v-1be0e3d8]:-ms-input-placeholder,input[type=text][data-v-1be0e3d8]:-ms-input-placeholder,textarea[data-v-1be0e3d8]:-ms-input-placeholder{color:#7d858c}input[type=date][data-v-1be0e3d8]::placeholder,input[type=email][data-v-1be0e3d8]::placeholder,input[type=number][data-v-1be0e3d8]::placeholder,input[type=password][data-v-1be0e3d8]::placeholder,input[type=text][data-v-1be0e3d8]::placeholder,textarea[data-v-1be0e3d8]::placeholder{color:#7d858c}input[type=date][disabled][data-v-1be0e3d8],input[type=email][disabled][data-v-1be0e3d8],input[type=number][disabled][data-v-1be0e3d8],input[type=password][disabled][data-v-1be0e3d8],input[type=text][disabled][data-v-1be0e3d8],textarea[disabled][data-v-1be0e3d8]{background:#1e2024;color:rgba(125,133,140,.8);-webkit-text-fill-color:rgba(125,133,140,.8)}.popup-wrapper input[type=date][data-v-1be0e3d8],.popup-wrapper input[type=email][data-v-1be0e3d8],.popup-wrapper input[type=number][data-v-1be0e3d8],.popup-wrapper input[type=password][data-v-1be0e3d8],.popup-wrapper input[type=text][data-v-1be0e3d8],.popup-wrapper textarea[data-v-1be0e3d8]{background:#25272c}}#page-content[data-v-1be0e3d8]{max-width:1100px}.total-wrapper[data-v-1be0e3d8]{display:none}.content-page[data-v-1be0e3d8]{display:grid;grid-template-columns:2fr 1fr;margin-bottom:30px;gap:50px}.content-page .form[data-v-1be0e3d8]{max-width:100%}.summary-list[data-v-1be0e3d8]{box-shadow:0 7px 20px 5px rgba(26,36,55,.06);border-radius:8px;min-width:300px;position:sticky;padding:25px;top:85px}.summary-list.is-error[data-v-1be0e3d8]{border:2px solid #fd397a;box-shadow:0 7px 20px 5px rgba(253,57,122,.06)}.summary-list .error-message[data-v-1be0e3d8]{font-weight:600}.summary-list .next-submit[data-v-1be0e3d8]{width:100%;margin-top:20px}.summary-list .disclaimer[data-v-1be0e3d8]{font-size:.75em;line-height:1.6;display:block;margin-top:12px}.summary-list .is-offset[data-v-1be0e3d8]{border-top:1px solid #f8f8f8;display:block;padding-top:10px}.summary-list .row[data-v-1be0e3d8]{display:flex;justify-content:space-between;padding:15px 0}.summary-list .row.small[data-v-1be0e3d8]{padding:0 0 10px}.summary-list .row[data-v-1be0e3d8]:first-child{padding-top:0}.summary-list .row.row-summary[data-v-1be0e3d8]{padding-bottom:0}.summary-list .row.row-summary b[data-v-1be0e3d8]{font-weight:800}.summary-list .cell b[data-v-1be0e3d8]{display:block;font-size:1.125em}.summary-list .cell small[data-v-1be0e3d8]{color:rgba(27,37,57,.7);font-size:.75em}.summary-list .cell span[data-v-1be0e3d8]{font-size:.875em;font-weight:600}.duplicator .wrapper-inline[data-v-1be0e3d8]{margin-bottom:0!important}@media only screen and (max-width:970px){.content-page[data-v-1be0e3d8]{grid-template-columns:1fr;margin-bottom:80px;gap:0}.total-wrapper[data-v-1be0e3d8]{box-shadow:0 0 20px 5px rgba(26,36,55,.06);border-top-left-radius:8px;border-top-right-radius:8px;display:flex;justify-content:space-between;padding:15px;position:fixed;bottom:0;left:0;right:0;z-index:9;background:#fff}.total-wrapper b[data-v-1be0e3d8]{font-size:.875em}}@media (prefers-color-scheme:dark){.total-wrapper[data-v-1be0e3d8]{box-shadow:0 0 20px 5px rgba(0,0,0,.25)}.summary-list[data-v-1be0e3d8],.total-wrapper[data-v-1be0e3d8]{background:#1e2024}.summary-list .is-offset[data-v-1be0e3d8],.summary-list .row.row-summary[data-v-1be0e3d8]{border-top:1px solid #2a2c32}}",""])},D62o:function(e,t,a){"use strict";var i=a("xCqy"),r=a("CjXH"),n={name:"MobileHeader",props:["title"],components:{ChevronLeftIcon:r.h,MenuIcon:r.P},methods:{showMobileNavigation:function(){i.a.$emit("mobile-menu:show","user-navigation")},goBack:function(){this.$router.back()}}},o=(a("R6Y3"),a("KHd+")),s=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"mobile-header"},[t("div",{staticClass:"go-back",on:{click:this.goBack}},[t("chevron-left-icon",{staticClass:"icon",attrs:{size:"17"}})],1),this._v(" "),t("div",{staticClass:"location-name"},[this._v(this._s(this.title))]),this._v(" "),t("div",{staticClass:"mobile-menu",on:{click:this.showMobileNavigation}},[t("menu-icon",{staticClass:"icon",attrs:{size:"17"}})],1)])}),[],!1,null,"699fe34a",null);t.a=s.exports},JOXf:function(e,t,a){"use strict";a("nr4+")},KnjL:function(e,t,a){"use strict";var i={name:"InfoBox",props:["type"]},r=(a("pFam"),a("KHd+")),n=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"info-box",class:this.type},[this._t("default")],2)}),[],!1,null,"8e7c42f6",null);t.a=n.exports},LedX:function(e,t,a){"use strict";a("WEWl")},Nv3j:function(e,t,a){"use strict";a("2Vm/")},Pq4m:function(e,t,a){"use strict";a("XM3O")},"Qqv+":function(e,t,a){var i=a("biqn");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},R6Y3:function(e,t,a){"use strict";a("Xm12")},RG1H:function(e,t,a){"use strict";a("0Y5R")},WEWl:function(e,t,a){var i=a("sGz8");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},XM3O:function(e,t,a){var i=a("1WCK");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},Xm12:function(e,t,a){var i=a("q8nf");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},biqn:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".info-box[data-v-8e7c42f6]{padding:20px;border-radius:8px;margin-bottom:32px;background:#f4f5f6;text-align:left}.info-box.error[data-v-8e7c42f6]{background:rgba(253,57,122,.1)}.info-box.error a[data-v-8e7c42f6],.info-box.error p[data-v-8e7c42f6]{color:#fd397a}.info-box.error a[data-v-8e7c42f6]{text-decoration:underline}.info-box p[data-v-8e7c42f6]{line-height:1.6;word-break:break-word;font-weight:600}.info-box p[data-v-8e7c42f6],.info-box p[data-v-8e7c42f6] a{font-size:15px}.info-box p[data-v-8e7c42f6] b{font-size:15px;font-weight:700}.info-box a[data-v-8e7c42f6],.info-box b[data-v-8e7c42f6]{font-weight:700}.info-box a[data-v-8e7c42f6]{font-size:.9375em;line-height:1.6}.info-box ul[data-v-8e7c42f6]{margin-top:15px}.info-box ul[data-v-8e7c42f6],.info-box ul li[data-v-8e7c42f6],.info-box ul li a[data-v-8e7c42f6]{display:block}@media only screen and (max-width:690px){.info-box[data-v-8e7c42f6]{padding:15px}}@media (prefers-color-scheme:dark){.info-box[data-v-8e7c42f6]{background:#1e2024}.info-box p[data-v-8e7c42f6],.info-box ul li[data-v-8e7c42f6]{color:#bec6cf}}",""])},gahf:function(e,t,a){"use strict";var i={name:"PageTabGroup"},r=(a("RG1H"),a("KHd+")),n=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"page-tab-group"},[this._t("default")],2)}),[],!1,null,"2b2b530c",null);t.a=n.exports},ibPL:function(e,t,a){"use strict";a.r(t);var i=a("o0o1"),r=a.n(i),n=a("A5+z"),o=a("gahf"),s=a("xxrA"),l=a("4TWA"),c=a("D+dh"),d=a("eZ9V"),p=a("D62o"),u=a("Nv84"),v=a("qefO"),m=a("2Sb1"),_=a("KnjL"),b=a("zTYo"),f=a("TJPC"),h=a("CjXH"),g=a("L2JU"),y=a("xCqy"),x=a("vDqi"),w=a.n(x),C=a("LvDl");function k(e,t,a,i,r,n,o){try{var s=e[n](o),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var S={name:"CreateInvoice",components:{ValidationProvider:n.ValidationProvider,ValidationObserver:n.ValidationObserver,PageTabGroup:o.a,MobileHeader:p.a,SelectInput:l.a,SwitchInput:s.a,ImageInput:c.a,PageHeader:m.a,ButtonBase:u.a,FormLabel:d.a,required:f.a,Spinner:b.a,InfoBox:_.a,PageTab:v.a,XIcon:h.ob},computed:P(P({},Object(g.b)(["countries","config","user"])),{},{pageTitle:function(){return{"regular-invoice":this.$t("in_editor.page.create_regular_invoice"),"advance-invoice":this.$t("in_editor.page.create_advance_invoice")}[this.$route.query.type]},isNewClient:function(){return"new-client"===this.invoice.client},taxBased:function(){var e=this,t=[];return this.invoice.items.forEach((function(a){a.price&&a.amount&&a.tax_rate&&(t.find((function(e){return e.rate===a.tax_rate}))?t.find((function(t){t.rate===a.tax_rate&&(t.total+=e.$parseFloat(a.price)*e.$parseFloat(a.amount))})):t.push({rate:a.tax_rate,total:e.$parseFloat(a.price)*e.$parseFloat(a.amount)}))})),this.isDiscount&&t.forEach((function(t){if("percent"===e.invoice.discount_type&&(t.total-=t.total*(e.invoice.discount_rate/100)),"value"===e.invoice.discount_type){var a=e.invoice.discount_rate/(e.total+e.invoice.discount_rate);t.total-=t.total*a}})),t},taxSummary:function(){var e=this,t=[];return this.invoice.items.forEach((function(a){a.price&&a.amount&&a.tax_rate&&(t.find((function(e){return e.rate===a.tax_rate}))?t.map((function(t){t.rate===a.tax_rate&&(t.total+=e.$parseFloat(a.price)*e.$parseFloat(a.amount)*(a.tax_rate/100))})):t.push({rate:a.tax_rate,total:e.$parseFloat(a.price)*e.$parseFloat(a.amount)*(a.tax_rate/100)}))})),this.isDiscount&&t.forEach((function(t){if("percent"===e.invoice.discount_type&&(t.total-=t.total*(e.invoice.discount_rate/100)),"value"===e.invoice.discount_type){var a=e.invoice.discount_rate/(e.total+e.invoice.discount_rate);t.total-=t.total*a}})),t},total:function(){var e=this,t=0;return this.invoice.items.forEach((function(a){if(a.price&&a.amount){var i=e.$parseFloat(a.price)*e.$parseFloat(a.amount);e.isVatPayer&&a.tax_rate&&(i+=i*(a.tax_rate/100)),t+=i}})),this.isDiscount&&("percent"===this.invoice.discount_type&&(t-=t*(this.invoice.discount_rate/100)),"value"===this.invoice.discount_type&&(t-=this.invoice.discount_rate)),t}}),watch:{"invoice.invoice_number":function(e){this.invoice.variable_number=e},"invoice.client_ico":function(e){this.getCompanyDetails(e)},isDiscount:function(e){e||(this.invoice.discount_type=void 0,this.invoice.discount_rate=void 0)}},data:function(){return{fullDetails:void 0,isLoadingPage:!0,isLoading:!1,isError:!1,isDiscount:!1,isVatPayer:!1,clients:[],latestInvoiceNumber:void 0,invoice:{invoice_type:"",invoice_number:"",variable_number:"",delivery_at:"",items:[{id:Math.floor(1e7*Math.random()),description:"",amount:1,unit:this.$t("in_editor.default_unit"),tax_rate:21,price:void 0}],discount_type:void 0,discount_rate:void 0,client:"",client_avatar:"",client_name:"",client_email:"",client_phone_number:"",client_address:"",client_city:"",client_postal_code:"",client_country:"",client_ico:"",client_dic:"",client_ic_dph:"",send_invoice:!0,store_client:!0},discountTypeList:[{label:this.$t("in_editor.discount_type_percent"),value:"percent"},{label:this.$t("in_editor.discount_type_amount"),value:"value"}]}},methods:{getCompanyDetails:Object(C.debounce)((function(e){var t=this;w.a.get("/api/oasis/admin/company-details?ico="+e).then((function(e){t.invoice.client_name=e.data.name,t.invoice.client_address=e.data.addr_streetnr,t.invoice.client_city=e.data.city,t.invoice.client_postal_code=e.data.addr_zip,t.fullDetails=e.data.name+" "+e.data.addr_full}))}),300),formatCurrency:function(e){return new Intl.NumberFormat("cs-CS",{style:"currency",currency:this.config.invoicingCurrency}).format(e)},formatNumber:function(e){return(Math.round(100*e)/100).toFixed(2)},createInvoice:function(){var e,t=this;return(e=r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.createInvoice.validate();case 2:if(e.sent){e.next=7;break}return t.isError=!0,t.errorMessage=t.$t("in_editor.error"),e.abrupt("return");case 7:t.isLoading=!0,a=new FormData,Object.keys(t.invoice).forEach((function(e){"items"===e?a.append(e,JSON.stringify(t.invoice[e])):t.invoice[e]&&a.append(e,t.invoice[e])})),w.a.post("/api/v1/invoicing/invoices",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){y.a.$emit("toaster",{type:"success",message:t.$t("in_toaster.success_creation")}),t.$store.dispatch("getInvoices",t.invoice.invoice_type),t.$router.push({name:"InvoicesList"})})).catch((function(e){t.isError=!0,422===e.response.status?Object.keys(e.response.data.errors).forEach((function(a){var i={};i[a]=e.response.data.errors[a],t.$refs.createInvoice.setErrors(i)})):y.a.$emit("alert:open",{title:t.$t("popup_error.title"),message:t.$t("popup_error.message")})})).finally((function(){t.isLoading=!1}));case 11:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,r){var n=e.apply(t,a);function o(e){k(n,i,r,o,s,"next",e)}function s(e){k(n,i,r,o,s,"throw",e)}o(void 0)}))})()},addRow:function(){var e=this,t=this.invoice.items.slice(-1).pop();this.invoice.items.push({id:Math.floor(1e7*Math.random()),description:"",amount:1,unit:(null==t?void 0:t.unit)||this.$t("in_editor.default_unit"),tax_rate:(null==t?void 0:t.tax_rate)||21,price:1}),this.$nextTick((function(){return e.$refs.duplicatorItemTitle.slice(-1).pop().focus()}))},removeRow:function(e){this.invoice.items.length>1&&(this.invoice.items=this.invoice.items.filter((function(t){return t.id!==e.id})))},get_recommended_delivery_date:function(){var e=new Date,t=e.setDate(e.getDate()+14),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),i=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);this.invoice.delivery_at="".concat(a,"-").concat(i,"-").concat(r)}},mounted:function(){var e=this;this.invoice.invoice_type=this.$route.query.type,this.get_recommended_delivery_date(),this.user&&!this.user.data.attributes.has_billing_profile&&this.$router.push({name:"BillingProfileSetUp"}),w.a.get("/api/v1/invoicing/editor").then((function(t){e.isVatPayer=t.data.isVatPayer,e.clients=t.data.clients,e.clients.unshift({label:e.$t("in_editor.new_client"),value:"new-client"}),e.invoice.invoice_number=t.data.recommendedInvoiceNumber,e.latestInvoiceNumber=t.data.latestInvoiceNumber})).finally((function(){e.isLoadingPage=!1}))}},z=(a("Nv3j"),a("KHd+")),N=Object(z.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"single-page"}},[a("MobileHeader",{attrs:{title:e.pageTitle}}),e._v(" "),a("PageHeader",{attrs:{title:e.pageTitle,"can-back":!0}}),e._v(" "),a("div",{attrs:{id:"page-content"}},[e.isLoadingPage?e._e():a("div",{staticClass:"content-page"},[a("ValidationObserver",{ref:"createInvoice",staticClass:"form block-form",attrs:{tag:"form"},on:{submit:function(t){return t.preventDefault(),e.createInvoice(t)}},scopedSlots:e._u([{key:"default",fn:function(t){t.invalid;return[a("PageTab",[a("PageTabGroup",[a("FormLabel",{attrs:{icon:"tool"}},[e._v(e._s(e.$t("in_editor.properties")))]),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_number"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"invoice_number",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.invoice.invoice_number,expression:"invoice.invoice_number",modifiers:{number:!0}}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.invoice_number"),type:"number"},domProps:{value:e.invoice.invoice_number},on:{input:function(t){t.target.composing||e.$set(e.invoice,"invoice_number",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.latestInvoiceNumber?a("small",{staticClass:"input-help"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.$t("in_number_desc",{number:e.latestInvoiceNumber}))+"\n\t\t\t\t\t\t\t\t")]):e._e(),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_variable"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"variable_number",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.invoice.variable_number,expression:"invoice.variable_number",modifiers:{number:!0}}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.variable_number"),type:"number"},domProps:{value:e.invoice.variable_number},on:{input:function(t){t.target.composing||e.$set(e.invoice,"variable_number",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),e.latestInvoiceNumber?a("small",{staticClass:"input-help"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.$t("in_variable_desc"))+"\n\t\t\t\t\t\t\t\t")]):e._e(),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_delivery_at"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"delivery_at",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.delivery_at,expression:"invoice.delivery_at"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{type:"date"},domProps:{value:e.invoice.delivery_at},on:{input:function(t){t.target.composing||e.$set(e.invoice,"delivery_at",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)],1),e._v(" "),a("PageTabGroup",[a("FormLabel",{attrs:{icon:"user"}},[e._v(e._s(e.$t("in_editor.client")))]),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("SelectInput",{attrs:{options:e.clients,placeholder:e.$t("in_editor.plac.select_client"),isError:i[0]},model:{value:e.invoice.client,callback:function(t){e.$set(e.invoice,"client",t)},expression:"invoice.client"}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.ico"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_ico",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_ico,expression:"invoice.client_ico"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_ico"),type:"text"},domProps:{value:e.invoice.client_ico},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_ico",t.target.value)}}}),e._v(" "),e.fullDetails?a("small",{staticClass:"input-help"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.fullDetails)+"\n\t\t\t\t\t\t\t\t")]):e._e(),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.dic"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_dic",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_dic,expression:"invoice.client_dic"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_dic"),type:"text"},domProps:{value:e.invoice.client_dic},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_dic",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.ic_dph"))+" ("+e._s(e.$t("global.optional"))+"):")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_ic_dph"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_ic_dph,expression:"invoice.client_ic_dph"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_ic_dph"),type:"text"},domProps:{value:e.invoice.client_ic_dph},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_ic_dph",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.company_name"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_name,expression:"invoice.client_name"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_company"),type:"text"},domProps:{value:e.invoice.client_name},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_name",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_address"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_address",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_address,expression:"invoice.client_address"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_address"),type:"text"},domProps:{value:e.invoice.client_address},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_address",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"wrapper-inline"},[a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_city"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_city",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_city,expression:"invoice.client_city"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_city"),type:"text"},domProps:{value:e.invoice.client_city},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_city",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_postal_code"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_postal_code",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_postal_code,expression:"invoice.client_postal_code"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_postal_code"),type:"text"},domProps:{value:e.invoice.client_postal_code},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_postal_code",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_country"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_country",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("SelectInput",{attrs:{default:e.invoice.client_country,options:e.countries,placeholder:e.$t("in_editor.plac.client_country"),isError:i[0]},model:{value:e.invoice.client_country,callback:function(t){e.$set(e.invoice,"client_country",t)},expression:"invoice.client_country"}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_phone"))+" ("+e._s(e.$t("global.optional"))+"):")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_phone_number"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_phone_number,expression:"invoice.client_phone_number"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_phone"),type:"text"},domProps:{value:e.invoice.client_phone_number},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_phone_number",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_email"))+" ("+e._s(e.$t("global.optional"))+"):")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_email"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.client_email,expression:"invoice.client_email"}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.client_email"),type:"email"},domProps:{value:e.invoice.client_email},on:{input:function(t){t.target.composing||e.$set(e.invoice,"client_email",t.target.value)}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isNewClient?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.client_logo"))+" ("+e._s(e.$t("global.optional"))+"):")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"client_avatar"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("ImageInput",{attrs:{error:i[0]},model:{value:e.invoice.client_avatar,callback:function(t){e.$set(e.invoice,"client_avatar",t)},expression:"invoice.client_avatar"}})]}}],null,!0)})],1):e._e()],1),e._v(" "),a("PageTabGroup",[a("FormLabel",{attrs:{icon:"edit"}},[e._v(e._s(e.$t("in_editor.items")))]),e._v(" "),a("div",{staticClass:"duplicator"},[e._l(e.invoice.items,(function(t,i){return a("div",{key:i++,staticClass:"plan-item duplicator-item"},[1!==i?a("x-icon",{staticClass:"delete-item hover-text-theme",attrs:{size:"22"},on:{click:function(a){return e.removeRow(t)}}}):e._e(),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.description"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"description",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"item.description"}],ref:"duplicatorItemTitle",refInFor:!0,staticClass:"focus-border-theme",class:{"is-error":r[0]},attrs:{placeholder:e.$t("in_editor.plac.item_desc"),type:"text"},domProps:{value:t.description},on:{input:function(a){a.target.composing||e.$set(t,"description",a.target.value)}}}),e._v(" "),r[0]?a("span",{staticClass:"error-message"},[e._v(e._s(r[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"wrapper-inline"},[a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.amount"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"amount",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"item.amount"}],staticClass:"focus-border-theme",class:{"is-error":r[0]},attrs:{placeholder:e.$t("in_editor.plac.item_amount"),type:"text"},domProps:{value:t.amount},on:{input:function(a){a.target.composing||e.$set(t,"amount",a.target.value)}}}),e._v(" "),r[0]?a("span",{staticClass:"error-message"},[e._v(e._s(r[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.unit"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"unit",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"item.unit"}],staticClass:"focus-border-theme",class:{"is-error":r[0]},attrs:{placeholder:e.$t("in_editor.plac.item_unit"),type:"text"},domProps:{value:t.unit},on:{input:function(a){a.target.composing||e.$set(t,"unit",a.target.value)}}}),e._v(" "),r[0]?a("span",{staticClass:"error-message"},[e._v(e._s(r[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),e.isVatPayer?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.tax_rate"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"tax_rate",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tax_rate,expression:"item.tax_rate"}],staticClass:"focus-border-theme",class:{"is-error":r[0]},attrs:{placeholder:e.$t("in_editor.plac.item_tax_rate"),type:"text"},domProps:{value:t.tax_rate},on:{input:function(a){a.target.composing||e.$set(t,"tax_rate",a.target.value)}}}),e._v(" "),r[0]?a("span",{staticClass:"error-message"},[e._v(e._s(r[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.price"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"price",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"item.price"}],staticClass:"focus-border-theme",class:{"is-error":r[0]},attrs:{placeholder:e.$t("in_editor.plac.item_price"),type:"text"},domProps:{value:t.price},on:{input:function(a){a.target.composing||e.$set(t,"price",a.target.value)}}}),e._v(" "),r[0]?a("span",{staticClass:"error-message"},[e._v(e._s(r[0]))]):e._e()]}}],null,!0)})],1)])],1)})),e._v(" "),a("ButtonBase",{staticClass:"duplicator-add-button",attrs:{"button-style":"theme"},nativeOn:{click:function(t){return e.addRow(t)}}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.$t("in_editor.add_item"))+"\n\t\t\t\t\t\t\t")])],2)],1),e._v(" "),a("PageTabGroup",[a("FormLabel",{attrs:{icon:"credit-card"}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.$t("in_editor.discount"))+"\n\t\t\t\t\t\t")]),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"inline-wrapper"},[a("div",{staticClass:"switch-label"},[a("label",{staticClass:"input-label"},[e._v(e._s(e.$t("in_editor.apply_discount"))+":")]),e._v(" "),a("small",{staticClass:"input-help"},[e._v(e._s(e.$t("in_editor.discount_help")))])]),e._v(" "),a("SwitchInput",{staticClass:"switch",attrs:{state:e.isDiscount},model:{value:e.isDiscount,callback:function(t){e.isDiscount=t},expression:"isDiscount"}})],1)])]),e._v(" "),e.isDiscount?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.discount_type"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"discount_type",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("SelectInput",{attrs:{default:e.invoice.discount_type,options:e.discountTypeList,placeholder:e.$t("in_editor.plac.discount_type"),isError:i[0]},model:{value:e.invoice.discount_type,callback:function(t){e.$set(e.invoice,"discount_type",t)},expression:"invoice.discount_type"}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e(),e._v(" "),e.isDiscount?a("div",{staticClass:"block-wrapper"},[a("label",[e._v(e._s(e.$t("in_editor.discount_rate"))+":")]),e._v(" "),a("ValidationProvider",{staticClass:"input-wrapper",attrs:{tag:"div",mode:"passive",name:"discount_rate",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.invoice.discount_rate,expression:"invoice.discount_rate",modifiers:{number:!0}}],staticClass:"focus-border-theme",class:{"is-error":i[0]},attrs:{placeholder:e.$t("in_editor.plac.discount_rate"),max:"100",min:"0",type:"number"},domProps:{value:e.invoice.discount_rate},on:{input:function(t){t.target.composing||e.$set(e.invoice,"discount_rate",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i[0]?a("span",{staticClass:"error-message"},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1):e._e()],1),e._v(" "),a("PageTabGroup",[a("FormLabel",{attrs:{icon:"settings"}},[e._v(e._s(e.$t("in_editor.others")))]),e._v(" "),e.isNewClient&&e.invoice.client_email?a("div",{staticClass:"block-wrapper"},[a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"inline-wrapper"},[a("div",{staticClass:"switch-label"},[a("label",{staticClass:"input-label"},[e._v(e._s(e.$t("in_editor.store_client"))+":")]),e._v(" "),a("small",{staticClass:"input-help"},[e._v(e._s(e.$t("in_editor.store_client_notes")))])]),e._v(" "),a("SwitchInput",{staticClass:"switch",attrs:{state:e.invoice.send_invoice},model:{value:e.invoice.send_invoice,callback:function(t){e.$set(e.invoice,"send_invoice",t)},expression:"invoice.send_invoice"}})],1)])]):e._e(),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"inline-wrapper"},[a("div",{staticClass:"switch-label"},[a("label",{staticClass:"input-label"},[e._v(e._s(e.$t("in_editor.send"))+":")]),e._v(" "),a("small",{staticClass:"input-help"},[e._v(e._s(e.$t("in_editor.send_notes")))])]),e._v(" "),a("SwitchInput",{staticClass:"switch",attrs:{state:e.invoice.send_invoice},model:{value:e.invoice.send_invoice,callback:function(t){e.$set(e.invoice,"send_invoice",t)},expression:"invoice.send_invoice"}})],1)])])],1)],1)]}}],null,!1,2523093935)}),e._v(" "),a("div",{staticClass:"summary"},[a("FormLabel",{attrs:{icon:"credit-card"}},[e._v("\n\t\t\t\t\t"+e._s(e.$t("in_editor.summary"))+"\n\t\t\t\t")]),e._v(" "),a("div",{staticClass:"summary-list",class:{"is-error":e.isError}},[e.isDiscount&&e.invoice.discount_rate>0?a("div",{staticClass:"row small"},[a("div",{staticClass:"cell"},[a("span",[e._v(e._s(e.$t("in_editor.discount")))])]),e._v(" "),a("div",{staticClass:"cell"},[a("span",[e._v("-"+e._s("percent"===e.invoice.discount_type?e.formatNumber(e.invoice.discount_rate)+"%":e.formatCurrency(e.invoice.discount_rate)))])])]):e._e(),e._v(" "),e.isVatPayer?a("div",{class:{"is-offset":e.isDiscount&&e.invoice.discount_rate>0}},e._l(e.taxBased,(function(t,i){return a("div",{key:i,staticClass:"row small"},[a("div",{staticClass:"cell"},[a("span",[e._v(e._s(e.$t("in_editor.summary.vat_base"))+" "+e._s(t.rate)+"%")])]),e._v(" "),a("div",{staticClass:"cell"},[a("span",[e._v(e._s(e.formatCurrency(t.total)))])])])})),0):e._e(),e._v(" "),e.isVatPayer?a("div",{class:{"is-offset":e.taxSummary.length>1}},e._l(e.taxSummary,(function(t,i){return a("div",{key:i,staticClass:"row small"},[a("div",{staticClass:"cell"},[a("span",[e._v(e._s(e.$t("in_editor.summary.vat"))+" "+e._s(t.rate)+"%")])]),e._v(" "),a("div",{staticClass:"cell"},[a("span",[e._v(e._s(e.formatCurrency(t.total)))])])])})),0):e._e(),e._v(" "),a("div",{staticClass:"row",class:{"row-summary":e.total>0}},[a("div",{staticClass:"cell"},[a("b",[e._v(e._s(e.$t("in_editor.summary.total")))])]),e._v(" "),a("div",{staticClass:"cell"},[a("b",[e._v(e._s(e.formatCurrency(e.total)))])])]),e._v(" "),a("ButtonBase",{staticClass:"next-submit",attrs:{disabled:e.isLoading,loading:e.isLoading,"button-style":"theme"},nativeOn:{click:function(t){return e.createInvoice(t)}}},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("in_editor.submit"))+"\n\t\t\t\t\t")]),e._v(" "),e.isError?a("p",{staticClass:"error-message"},[e._v("\n\t\t\t\t\t\t"+e._s(e.errorMessage)+"\n\t\t\t\t\t")]):e._e()],1)],1)],1),e._v(" "),e.isLoadingPage?a("div",{attrs:{id:"loader"}},[a("Spinner")],1):e._e(),e._v(" "),!e.isLoadingPage&&e.total>0?a("div",{staticClass:"total-wrapper bg-theme-100"},[a("b",[e._v(e._s(e.$t("in.doc.sum_to_pay"))+":")]),e._v(" "),a("b",[e._v(e._s(e.formatCurrency(e.total)))])]):e._e()])],1)}),[],!1,null,"1be0e3d8",null);t.default=N.exports},"nr4+":function(e,t,a){var i=a("3eeM");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,r);i.locals&&(e.exports=i.locals)},pFam:function(e,t,a){"use strict";a("Qqv+")},q8nf:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".mobile-header[data-v-699fe34a]{padding:10px 0;text-align:center;background:#fff;position:sticky;display:none;z-index:6;top:0}.mobile-header>div[data-v-699fe34a]{flex-grow:1;align-self:center;white-space:nowrap}.mobile-header .go-back[data-v-699fe34a]{text-align:left}.mobile-header .location-name[data-v-699fe34a]{line-height:1;text-align:center;width:100%;vertical-align:middle;font-size:.9375em;color:#1b2539;font-weight:700;max-width:220px;overflow:hidden;text-overflow:ellipsis;display:inline-block}.mobile-header .mobile-menu[data-v-699fe34a]{text-align:right}.mobile-header .icon[data-v-699fe34a]{vertical-align:middle;margin-top:-4px}@media only screen and (max-width:690px){.mobile-header[data-v-699fe34a]{display:flex;margin-bottom:15px}}@media (prefers-color-scheme:dark){.mobile-header[data-v-699fe34a]{background:#141414}.mobile-header .location-name[data-v-699fe34a]{color:#bec6cf}}",""])},qefO:function(e,t,a){"use strict";var i={name:"PageTab",props:["isLoading"],components:{Spinner:a("zTYo").a}},r=(a("Pq4m"),a("KHd+")),n=Object(r.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-tab"},[this.isLoading?t("div",{attrs:{id:"loader"}},[t("Spinner")],1):this._e(),this._v(" "),this.isLoading?this._e():this._t("default")],2)}),[],!1,null,"3fdf99dd",null);t.a=n.exports},sGz8:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".input-wrapper[data-v-421ca226]{display:flex;width:100%}.input-wrapper .input-label[data-v-421ca226]{color:#1b2539}.input-wrapper .switch-content[data-v-421ca226]{width:100%}.input-wrapper .switch-content[data-v-421ca226]:last-child{width:80px}.switch[data-v-421ca226]{width:50px;height:28px;background:#f1f1f5;position:relative}.switch[data-v-421ca226],.switch .switch-button[data-v-421ca226]{border-radius:50px;display:block;transition:all .3s ease}.switch .switch-button[data-v-421ca226]{width:22px;height:22px;background:#fff;position:absolute;top:3px;left:3px;box-shadow:0 2px 4px rgba(37,38,94,.1);cursor:pointer}.switch.active .switch-button[data-v-421ca226]{left:25px}@media (prefers-color-scheme:dark){.switch[data-v-421ca226]{background:#1e2024}.popup-wrapper .switch[data-v-421ca226]{background:#25272c}}",""])},xxrA:function(e,t,a){"use strict";var i={name:"SwitchInput",props:["label","name","state","info"],data:function(){return{isSwitched:void 0}},methods:{changeState:function(){this.isSwitched=!this.isSwitched,this.$emit("input",this.isSwitched)}},mounted:function(){this.isSwitched=this.state}},r=(a("LedX"),a("KHd+")),n=Object(r.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"switch-content"},[e.label?a("label",{staticClass:"input-label"},[e._v(e._s(e.label)+":")]):e._e(),e._v(" "),e.info?a("small",{staticClass:"input-info"},[e._v(e._s(e.info))]):e._e()]),e._v(" "),a("div",{staticClass:"switch-content text-right"},[a("div",{staticClass:"switch",class:{active:e.isSwitched},on:{click:e.changeState}},[a("div",{staticClass:"switch-button"})])])])}),[],!1,null,"421ca226",null);t.a=n.exports}}]);