(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"77bE":function(e,t,i){"use strict";i.r(t);var n=i("9Q3x"),r=i("FdzE"),a=i("yMep"),o=i("LtV2"),s=i("hXay"),d=i("2QtR"),l=i("c4kp"),c=i("CjXH"),f=i("L2JU"),h=i("xCqy");function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u={name:"SharedFileBrowser",components:{DesktopSortingAndPreview:n.a,TreeMenuNavigator:r.a,ContentSidebar:o.a,DesktopToolbar:a.a,ContentGroup:s.a,ContextMenu:d.a,FileBrowser:l.a,HomeIcon:c.B},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){v(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(f.b)(["sharedDetail","navigation","config"]),{navigationTree:function(){return this.navigation?this.navigation[0].folders:void 0}}),data:function(){return{homeDirectory:void 0}},methods:{goHome:function(){this.$store.dispatch("browseShared",[{folder:this.homeDirectory,back:!1,init:!0}])},contextMenu:function(e,t){h.a.$emit("contextMenu:show",e,t)},initFileBrowser:function(){this.homeDirectory={id:this.sharedDetail.item_id,name:this.$t("locations.home"),location:"public"},this.$store.dispatch("getFolderTree"),this.goHome()}},created:function(){var e=this;this.sharedDetail?this.initFileBrowser():this.$store.dispatch("getShareDetail",this.$route.params.token).then((function(){e.initFileBrowser()}))}},m=(i("nvG3"),i("KHd+")),g=Object(m.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewport"},on:{"!contextmenu":function(t){return t.preventDefault(),e.contextMenu(t,void 0)}}},[e.navigationTree&&e.navigationTree.length>=1?i("ContentSidebar",[i("ContentGroup",{attrs:{title:e.$t("sidebar.locations_title")}},[i("div",{staticClass:"menu-list-wrapper vertical"},[i("a",{staticClass:"menu-list-item link",on:{click:e.goHome}},[i("div",{staticClass:"icon"},[i("home-icon",{attrs:{size:"17"}})],1),e._v(" "),i("div",{staticClass:"label"},[e._v("\n                        "+e._s(e.$t("sidebar.home"))+"\n                    ")])])])]),e._v(" "),i("ContentGroup",{staticClass:"navigator",attrs:{title:e.$t("sidebar.navigator_title")}},e._l(e.navigationTree,(function(e){return i("TreeMenuNavigator",{key:e.id,staticClass:"folder-tree",attrs:{depth:0,nodes:e}})})),1)],1):e._e(),e._v(" "),i("div",{attrs:{id:"files-view"}},[i("ContextMenu"),e._v(" "),i("DesktopToolbar"),e._v(" "),i("FileBrowser"),e._v(" "),i("DesktopSortingAndPreview")],1)],1)}),[],!1,null,null,null);t.default=g.exports},FdzE:function(e,t,i){"use strict";var n=i("CjXH"),r=i("L2JU"),a=i("xCqy");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={name:"TreeMenuNavigator",props:["nodes","depth","disabled"],components:{TreeMenuNavigator:f,ChevronRightIcon:n.h,FolderIcon:n.x},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(r.b)(["fileInfoDetail"]),{disabledFolder:function(){var e=this,t=!1;return this.draggedItem.length>0?this.draggedItem.forEach((function(i){"folder"===i.type&&e.nodes.id===i.parent_id&&(t=!0),e.nodes.id===i.id&&"folder"===i.type&&(t=!0,e.disableChildren=!0),e.disabled&&(e.disableChildren=!0)})):(t=!1,this.disableChildren=!1),t},indent:function(){var e=window.innerWidth<=1024?17:22;return{paddingLeft:(0==this.depth?e:e+20*this.depth)+"px"}}}),data:function(){return{isVisible:!1,isSelected:!1,area:!1,draggedItem:[],disableChildren:!1}},methods:{dragFinish:function(){this.fileInfoDetail.includes(this.draggedItem[0])||this.$store.dispatch("moveItem",{to_item:this.nodes,noSelectedItem:this.draggedItem[0]}),this.fileInfoDetail.includes(this.draggedItem[0])&&this.$store.dispatch("moveItem",{to_item:this.nodes,noSelectedItem:null}),this.draggedItem=[],this.area=!1,a.a.$emit("drop")},dragEnter:function(){this.area=!0},dragLeave:function(){this.area=!1},getFolder:function(){a.a.$emit("show-folder",this.nodes),this.$isThisLocation("public")?this.$store.dispatch("browseShared",[{folder:this.nodes,back:!1,init:!1}]):this.$store.dispatch("getFolder",[{folder:this.nodes,back:!1,init:!1}])},showTree:function(){this.isVisible=!this.isVisible}},created:function(){var e=this;a.a.$on("drop",(function(){e.draggedItem=[]})),a.a.$on("dragstart",(function(t){e.fileInfoDetail.includes(t)||(e.draggedItem=[t]),e.fileInfoDetail.includes(t)&&(e.draggedItem=e.fileInfoDetail)})),a.a.$on("show-folder",(function(t){e.isSelected=!1,e.nodes.id==t.id&&(e.isSelected=!0)}))}},l=(i("WxZZ"),i("KHd+")),c=Object(l.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"folder"}},[i("div",{staticClass:"folder-item-wrapper"},[i("div",{staticClass:"folder-item text-theme",class:{"is-selected":e.isSelected,"is-dragenter":e.area,"is-inactive":e.disabledFolder||e.disabled&&e.draggedItem.length>0},style:e.indent,on:{click:e.getFolder,dragover:function(t){return t.preventDefault(),e.dragEnter(t)},dragleave:e.dragLeave,drop:function(t){return e.dragFinish()}}},[i("chevron-right-icon",{staticClass:"icon-arrow",class:{"is-opened":e.isVisible,"is-visible":0!==e.nodes.folders.length},attrs:{size:"17"},on:{click:function(t){return t.stopPropagation(),e.showTree(t)}}}),e._v(" "),i("folder-icon",{staticClass:"icon text-theme",attrs:{size:"17"}}),e._v(" "),i("span",{staticClass:"label"},[e._v(e._s(e.nodes.name))])],1),e._v(" "),e._l(e.nodes.folders,(function(t){return e.isVisible?i("TreeMenuNavigator",{key:t.id,attrs:{disabled:e.disableChildren,depth:e.depth+1,nodes:t}}):e._e()}))],2)])}),[],!1,null,"92af20fe",null),f=t.a=c.exports},LUFV:function(e,t,i){(e.exports=i("I1BE")(!1)).push([e.i,".is-inactive[data-v-92af20fe] {\n  opacity: 0.5;\n  pointer-events: none;\n}\n.is-dragenter[data-v-92af20fe] {\n  border-radius: 8px;\n}\n.folder-item[data-v-92af20fe] {\n  display: block;\n  padding: 8px 0;\n  transition: 150ms all ease;\n  cursor: pointer;\n  position: relative;\n  white-space: nowrap;\n  width: 100%;\n  border: 2px dashed transparent;\n}\n.folder-item .icon[data-v-92af20fe] {\n  line-height: 0;\n  width: 15px;\n  margin-right: 9px;\n  vertical-align: middle;\n  margin-top: -1px;\n}\n.folder-item .icon path[data-v-92af20fe], .folder-item .icon line[data-v-92af20fe], .folder-item .icon polyline[data-v-92af20fe], .folder-item .icon rect[data-v-92af20fe], .folder-item .icon circle[data-v-92af20fe] {\n  transition: 150ms all ease;\n}\n.folder-item .icon-arrow[data-v-92af20fe] {\n  transition: 300ms all ease;\n  margin-right: 4px;\n  vertical-align: middle;\n  opacity: 0;\n}\n.folder-item .icon-arrow.is-visible[data-v-92af20fe] {\n  opacity: 1;\n}\n.folder-item .icon-arrow.is-opened[data-v-92af20fe] {\n  transform: rotate(90deg);\n}\n.folder-item .label[data-v-92af20fe] {\n  transition: 150ms all ease;\n  font-size: 0.8125em;\n  font-weight: 700;\n  vertical-align: middle;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: inline-block;\n  color: #1B2539;\n  max-width: 130px;\n}\n.folder-item:hover .icon path[data-v-92af20fe], .folder-item:hover .icon line[data-v-92af20fe], .folder-item:hover .icon polyline[data-v-92af20fe], .folder-item:hover .icon rect[data-v-92af20fe], .folder-item:hover .icon circle[data-v-92af20fe], .folder-item.is-selected .icon path[data-v-92af20fe], .folder-item.is-selected .icon line[data-v-92af20fe], .folder-item.is-selected .icon polyline[data-v-92af20fe], .folder-item.is-selected .icon rect[data-v-92af20fe], .folder-item.is-selected .icon circle[data-v-92af20fe] {\n  color: inherit;\n}\n.folder-item:hover .label[data-v-92af20fe], .folder-item.is-selected .label[data-v-92af20fe] {\n  color: inherit;\n}\n@media only screen and (max-width: 1024px) {\n.folder-item[data-v-92af20fe] {\n    padding: 8px 0;\n}\n}\n@media (prefers-color-scheme: dark) {\n.folder-item .label[data-v-92af20fe] {\n    color: #bec6cf;\n}\n}\n",""])},MRed:function(e,t,i){var n=i("LUFV");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(e.exports=n.locals)},WxZZ:function(e,t,i){"use strict";var n=i("MRed");i.n(n).a},lEpy:function(e,t,i){var n=i("nKEh");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,r);n.locals&&(e.exports=n.locals)},nKEh:function(e,t,i){(e.exports=i("I1BE")(!1)).push([e.i,"#files-view {\n  font-family: 'Nunito', sans-serif;\n  font-size: 16px;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  min-width: 320px;\n  overflow-x: hidden;\n  padding-left: 15px;\n  padding-right: 15px;\n  overflow-y: hidden;\n}\n",""])},nvG3:function(e,t,i){"use strict";var n=i("lEpy");i.n(n).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvdmlld3MvU2hhcmVkL1NoYXJlZEZpbGVCcm93c2VyLnZ1ZT9hZGRmIiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvdmlld3MvU2hhcmVkL1NoYXJlZEZpbGVCcm93c2VyLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvdmlld3MvU2hhcmVkL1NoYXJlZEZpbGVCcm93c2VyLnZ1ZT85NTdlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy92aWV3cy9TaGFyZWQvU2hhcmVkRmlsZUJyb3dzZXIudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL090aGVycy9UcmVlTWVudU5hdmlnYXRvci52dWU/N2NjNCIsIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvT3RoZXJzL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9PdGhlcnMvVHJlZU1lbnVOYXZpZ2F0b3IudnVlPzgzM2YiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvT3RoZXJzL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9PdGhlcnMvVHJlZU1lbnVOYXZpZ2F0b3IudnVlPzNkYmIiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvT3RoZXJzL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT8xMTlmIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL090aGVycy9UcmVlTWVudU5hdmlnYXRvci52dWU/YTZkNiIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvdmlld3MvU2hhcmVkL1NoYXJlZEZpbGVCcm93c2VyLnZ1ZT9hNWFhIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy92aWV3cy9TaGFyZWQvU2hhcmVkRmlsZUJyb3dzZXIudnVlPzM4YzMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL3ZpZXdzL1NoYXJlZC9TaGFyZWRGaWxlQnJvd3Nlci52dWU/ZGJkOCJdLCJuYW1lcyI6WyJjb21wb25lbnQiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJhdHRycyIsIm9uIiwiJGV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjb250ZXh0TWVudSIsInVuZGVmaW5lZCIsIm5hdmlnYXRpb25UcmVlIiwibGVuZ3RoIiwiJHQiLCJzdGF0aWNDbGFzcyIsImdvSG9tZSIsIl92IiwiX3MiLCJfbCIsIml0ZW1zIiwia2V5IiwiaWQiLCJfZSIsImNsYXNzIiwiaXNTZWxlY3RlZCIsImFyZWEiLCJkaXNhYmxlZEZvbGRlciIsImRpc2FibGVkIiwiZHJhZ2dlZEl0ZW0iLCJzdHlsZSIsImdldEZvbGRlciIsImRyYWdFbnRlciIsImRyYWdMZWF2ZSIsImRyYWdGaW5pc2giLCJpc1Zpc2libGUiLCJub2RlcyIsImZvbGRlcnMiLCJzdG9wUHJvcGFnYXRpb24iLCJzaG93VHJlZSIsIm5hbWUiLCJpdGVtIiwiZGlzYWJsZUNoaWxkcmVuIiwiZGVwdGgiLCJtb2R1bGUiLCJleHBvcnRzIiwicHVzaCIsImkiLCJjb250ZW50Iiwib3B0aW9ucyIsInRyYW5zZm9ybSIsImxvY2FscyJdLCJtYXBwaW5ncyI6InFHQUFBLEksOGNDZ0RBLElDaER1TixFRGdEdk4sQ0FDRSxLQUFGLG9CQUNFLFdBQUYsQ0FDSSx5QkFBSixJQUNJLGtCQUFKLElBQ0ksZUFBSixJQUNJLGVBQUosSUFDSSxhQUFKLElBQ0ksWUFBSixJQUNJLFlBQUosSUFDSSxTQUFKLEtBRUUsUywrVkFBRixJQUNBLGFBQ0EsZUFDQSxhQUNBLFdBSkEsQ0FNSSxlQU5KLFdBT00sT0FBTixxREFHRSxLQXRCRixXQXVCSSxNQUFKLENBQ00sbUJBQU4sSUFHRSxRQUFGLENBQ0ksT0FESixXQUVNLEtBQU4saUNBQVEsT0FBUixtQkFBUSxNQUFS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Q1AsRUFBT0MsUUFBVSxFQUFRLE9BQVIsRUFBK0QsSUFLbEZDLEtBQUssQ0FBQ0YsRUFBT0csRUFBSSx5UEFBMFAsTSxrQ0NMblIsdUJBQStiIiwiZmlsZSI6ImNodW5rcy9zaGFyZWQvZmlsZS1icm93c2VyLmpzP2lkPWQ2MTM2NjUxZjA5YzBlZDM4Yzg2Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse2F0dHJzOntcImlkXCI6XCJ2aWV3cG9ydFwifSxvbjp7XCIhY29udGV4dG1lbnVcIjpmdW5jdGlvbigkZXZlbnQpeyRldmVudC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBfdm0uY29udGV4dE1lbnUoJGV2ZW50LCB1bmRlZmluZWQpfX19LFsoX3ZtLm5hdmlnYXRpb25UcmVlICYmIF92bS5uYXZpZ2F0aW9uVHJlZS5sZW5ndGggPj0gMSk/X2MoJ0NvbnRlbnRTaWRlYmFyJyxbX2MoJ0NvbnRlbnRHcm91cCcse2F0dHJzOntcInRpdGxlXCI6X3ZtLiR0KCdzaWRlYmFyLmxvY2F0aW9uc190aXRsZScpfX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcIm1lbnUtbGlzdC13cmFwcGVyIHZlcnRpY2FsXCJ9LFtfYygnYScse3N0YXRpY0NsYXNzOlwibWVudS1saXN0LWl0ZW0gbGlua1wiLG9uOntcImNsaWNrXCI6X3ZtLmdvSG9tZX19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpY29uXCJ9LFtfYygnaG9tZS1pY29uJyx7YXR0cnM6e1wic2l6ZVwiOlwiMTdcIn19KV0sMSksX3ZtLl92KFwiIFwiKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJsYWJlbFwifSxbX3ZtLl92KFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIrX3ZtLl9zKF92bS4kdCgnc2lkZWJhci5ob21lJykpK1wiXFxuICAgICAgICAgICAgICAgICAgICBcIildKV0pXSldKSxfdm0uX3YoXCIgXCIpLF9jKCdDb250ZW50R3JvdXAnLHtzdGF0aWNDbGFzczpcIm5hdmlnYXRvclwiLGF0dHJzOntcInRpdGxlXCI6X3ZtLiR0KCdzaWRlYmFyLm5hdmlnYXRvcl90aXRsZScpfX0sX3ZtLl9sKChfdm0ubmF2aWdhdGlvblRyZWUpLGZ1bmN0aW9uKGl0ZW1zKXtyZXR1cm4gX2MoJ1RyZWVNZW51TmF2aWdhdG9yJyx7a2V5Oml0ZW1zLmlkLHN0YXRpY0NsYXNzOlwiZm9sZGVyLXRyZWVcIixhdHRyczp7XCJkZXB0aFwiOjAsXCJub2Rlc1wiOml0ZW1zfX0pfSksMSldLDEpOl92bS5fZSgpLF92bS5fdihcIiBcIiksX2MoJ2Rpdicse2F0dHJzOntcImlkXCI6XCJmaWxlcy12aWV3XCJ9fSxbX2MoJ0NvbnRleHRNZW51JyksX3ZtLl92KFwiIFwiKSxfYygnRGVza3RvcFRvb2xiYXInKSxfdm0uX3YoXCIgXCIpLF9jKCdGaWxlQnJvd3NlcicpLF92bS5fdihcIiBcIiksX2MoJ0Rlc2t0b3BTb3J0aW5nQW5kUHJldmlldycpXSwxKV0sMSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cbiAgICA8ZGl2IEBjb250ZXh0bWVudS5wcmV2ZW50LmNhcHR1cmU9XCJjb250ZXh0TWVudSgkZXZlbnQsIHVuZGVmaW5lZClcIiBpZD1cInZpZXdwb3J0XCI+XG4gICAgICAgIDxDb250ZW50U2lkZWJhciB2LWlmPVwibmF2aWdhdGlvblRyZWUgJiYgbmF2aWdhdGlvblRyZWUubGVuZ3RoID49IDFcIj5cblxuICAgICAgICAgICAgPCEtLUxvY2F0aW9ucy0tPlxuICAgICAgICAgICAgPENvbnRlbnRHcm91cCA6dGl0bGU9XCIkdCgnc2lkZWJhci5sb2NhdGlvbnNfdGl0bGUnKVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWxpc3Qtd3JhcHBlciB2ZXJ0aWNhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm1lbnUtbGlzdC1pdGVtIGxpbmtcIiBAY2xpY2s9XCJnb0hvbWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhvbWUtaWNvbiBzaXplPVwiMTdcIj48L2hvbWUtaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgJHQoJ3NpZGViYXIuaG9tZScpIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9Db250ZW50R3JvdXA+XG5cbiAgICAgICAgICAgIDwhLS1OYXZpZ2F0b3ItLT5cbiAgICAgICAgICAgIDxDb250ZW50R3JvdXAgOnRpdGxlPVwiJHQoJ3NpZGViYXIubmF2aWdhdG9yX3RpdGxlJylcIiBjbGFzcz1cIm5hdmlnYXRvclwiPlxuICAgICAgICAgICAgICAgIDxUcmVlTWVudU5hdmlnYXRvciBjbGFzcz1cImZvbGRlci10cmVlXCIgOmRlcHRoPVwiMFwiIDpub2Rlcz1cIml0ZW1zXCIgdi1mb3I9XCJpdGVtcyBpbiBuYXZpZ2F0aW9uVHJlZVwiIDprZXk9XCJpdGVtcy5pZFwiIC8+XG4gICAgICAgICAgICA8L0NvbnRlbnRHcm91cD5cbiAgICAgICAgPC9Db250ZW50U2lkZWJhcj5cblxuICAgICAgICA8ZGl2IGlkPVwiZmlsZXMtdmlld1wiPlxuICAgICAgICAgICAgPENvbnRleHRNZW51IC8+XG5cbiAgICAgICAgICAgIDxEZXNrdG9wVG9vbGJhciAvPlxuXG4gICAgICAgICAgICA8RmlsZUJyb3dzZXIgLz5cblxuICAgICAgICAgICAgPERlc2t0b3BTb3J0aW5nQW5kUHJldmlldyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gICAgaW1wb3J0IERlc2t0b3BTb3J0aW5nQW5kUHJldmlldyBmcm9tICdAL2NvbXBvbmVudHMvRmlsZXNWaWV3L0Rlc2t0b3BTb3J0aW5nQW5kUHJldmlldydcbiAgICBpbXBvcnQgVHJlZU1lbnVOYXZpZ2F0b3IgZnJvbSAnQC9jb21wb25lbnRzL090aGVycy9UcmVlTWVudU5hdmlnYXRvcidcbiAgICBpbXBvcnQgRGVza3RvcFRvb2xiYXIgZnJvbSAnQC9jb21wb25lbnRzL0ZpbGVzVmlldy9EZXNrdG9wVG9vbGJhcidcbiAgICBpbXBvcnQgQ29udGVudFNpZGViYXIgZnJvbSAnQC9jb21wb25lbnRzL1NpZGViYXIvQ29udGVudFNpZGViYXInXG4gICAgaW1wb3J0IENvbnRlbnRHcm91cCBmcm9tICdAL2NvbXBvbmVudHMvU2lkZWJhci9Db250ZW50R3JvdXAnXG4gICAgaW1wb3J0IENvbnRleHRNZW51IGZyb20gJ0AvY29tcG9uZW50cy9GaWxlc1ZpZXcvQ29udGV4dE1lbnUnXG4gICAgaW1wb3J0IEZpbGVCcm93c2VyIGZyb20gJ0AvY29tcG9uZW50cy9GaWxlc1ZpZXcvRmlsZUJyb3dzZXInXG4gICAgaW1wb3J0IHtIb21lSWNvbn0gZnJvbSAndnVlLWZlYXRoZXItaWNvbnMnXG4gICAgaW1wb3J0IHttYXBHZXR0ZXJzfSBmcm9tIFwidnVleFwiXG4gICAgaW1wb3J0IHtldmVudHN9IGZyb20gJ0AvYnVzJ1xuXG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiAnU2hhcmVkRmlsZUJyb3dzZXInLFxuICAgICAgICBjb21wb25lbnRzOiB7XG4gICAgICAgICAgICBEZXNrdG9wU29ydGluZ0FuZFByZXZpZXcsXG4gICAgICAgICAgICBUcmVlTWVudU5hdmlnYXRvcixcbiAgICAgICAgICAgIENvbnRlbnRTaWRlYmFyLFxuICAgICAgICAgICAgRGVza3RvcFRvb2xiYXIsXG4gICAgICAgICAgICBDb250ZW50R3JvdXAsXG4gICAgICAgICAgICBDb250ZXh0TWVudSxcbiAgICAgICAgICAgIEZpbGVCcm93c2VyLFxuICAgICAgICAgICAgSG9tZUljb24sXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXB1dGVkOiB7XG4gICAgICAgICAgICAuLi5tYXBHZXR0ZXJzKFtcbiAgICAgICAgICAgICAgICAnc2hhcmVkRGV0YWlsJyxcbiAgICAgICAgICAgICAgICAnbmF2aWdhdGlvbicsXG4gICAgICAgICAgICAgICAgJ2NvbmZpZycsXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIG5hdmlnYXRpb25UcmVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdmlnYXRpb24gPyB0aGlzLm5hdmlnYXRpb25bMF0uZm9sZGVycyA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaG9tZURpcmVjdG9yeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgICBnb0hvbWUoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2Jyb3dzZVNoYXJlZCcsIFt7Zm9sZGVyOiB0aGlzLmhvbWVEaXJlY3RvcnksIGJhY2s6IGZhbHNlLCBpbml0OiB0cnVlfV0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dE1lbnUoZXZlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBldmVudHMuJGVtaXQoJ2NvbnRleHRNZW51OnNob3cnLCBldmVudCwgaXRlbSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0RmlsZUJyb3dzZXIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob21lRGlyZWN0b3J5ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5zaGFyZWREZXRhaWwuaXRlbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy4kdCgnbG9jYXRpb25zLmhvbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246ICdwdWJsaWMnLFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdldCBmb2xkZXIgdHJlZVxuICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRGb2xkZXJUcmVlJylcblxuICAgICAgICAgICAgICAgIC8vIExvYWQgZm9sZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5nb0hvbWUoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zaGFyZWREZXRhaWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0U2hhcmVEZXRhaWwnLCB0aGlzLiRyb3V0ZS5wYXJhbXMudG9rZW4pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRGaWxlQnJvd3NlcigpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0RmlsZUJyb3dzZXIoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxuXG4gICAgICNmaWxlcy12aWV3IHtcbiAgICAgICAgIGZvbnQtZmFtaWx5OiAnTnVuaXRvJywgc2Fucy1zZXJpZjtcbiAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgbWluLXdpZHRoOiAzMjBweDtcbiAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgIHBhZGRpbmctbGVmdDogMTVweDtcbiAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG4gICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XG4gICAgIH1cbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS00LTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9TaGFyZWRGaWxlQnJvd3Nlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tNC0wIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU2hhcmVkRmlsZUJyb3dzZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9TaGFyZWRGaWxlQnJvd3Nlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZjZiYjE2MDgmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vU2hhcmVkRmlsZUJyb3dzZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9TaGFyZWRGaWxlQnJvd3Nlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vU2hhcmVkRmlsZUJyb3dzZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygndHJhbnNpdGlvbicse2F0dHJzOntcIm5hbWVcIjpcImZvbGRlclwifX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImZvbGRlci1pdGVtLXdyYXBwZXJcIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImZvbGRlci1pdGVtIHRleHQtdGhlbWVcIixjbGFzczp7J2lzLXNlbGVjdGVkJzogX3ZtLmlzU2VsZWN0ZWQgLCAnaXMtZHJhZ2VudGVyJzogX3ZtLmFyZWEsICdpcy1pbmFjdGl2ZSc6IF92bS5kaXNhYmxlZEZvbGRlciB8fCBfdm0uZGlzYWJsZWQgJiYgX3ZtLmRyYWdnZWRJdGVtLmxlbmd0aCA+IDAgIH0sc3R5bGU6KF92bS5pbmRlbnQpLG9uOntcImNsaWNrXCI6X3ZtLmdldEZvbGRlcixcImRyYWdvdmVyXCI6ZnVuY3Rpb24oJGV2ZW50KXskZXZlbnQucHJldmVudERlZmF1bHQoKTtyZXR1cm4gX3ZtLmRyYWdFbnRlcigkZXZlbnQpfSxcImRyYWdsZWF2ZVwiOl92bS5kcmFnTGVhdmUsXCJkcm9wXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLmRyYWdGaW5pc2goKX19fSxbX2MoJ2NoZXZyb24tcmlnaHQtaWNvbicse3N0YXRpY0NsYXNzOlwiaWNvbi1hcnJvd1wiLGNsYXNzOnsnaXMtb3BlbmVkJzogX3ZtLmlzVmlzaWJsZSwgJ2lzLXZpc2libGUnOiBfdm0ubm9kZXMuZm9sZGVycy5sZW5ndGggIT09IDB9LGF0dHJzOntcInNpemVcIjpcIjE3XCJ9LG9uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXskZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJuIF92bS5zaG93VHJlZSgkZXZlbnQpfX19KSxfdm0uX3YoXCIgXCIpLF9jKCdmb2xkZXItaWNvbicse3N0YXRpY0NsYXNzOlwiaWNvbiB0ZXh0LXRoZW1lXCIsYXR0cnM6e1wic2l6ZVwiOlwiMTdcIn19KSxfdm0uX3YoXCIgXCIpLF9jKCdzcGFuJyx7c3RhdGljQ2xhc3M6XCJsYWJlbFwifSxbX3ZtLl92KF92bS5fcyhfdm0ubm9kZXMubmFtZSkpXSldLDEpLF92bS5fdihcIiBcIiksX3ZtLl9sKChfdm0ubm9kZXMuZm9sZGVycyksZnVuY3Rpb24oaXRlbSl7cmV0dXJuIChfdm0uaXNWaXNpYmxlKT9fYygnVHJlZU1lbnVOYXZpZ2F0b3InLHtrZXk6aXRlbS5pZCxhdHRyczp7XCJkaXNhYmxlZFwiOl92bS5kaXNhYmxlQ2hpbGRyZW4sXCJkZXB0aFwiOl92bS5kZXB0aCArIDEsXCJub2Rlc1wiOml0ZW19fSk6X3ZtLl9lKCl9KV0sMildKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxuICAgIDx0cmFuc2l0aW9uIG5hbWU9XCJmb2xkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbGRlci1pdGVtLXdyYXBwZXJcIiA+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb2xkZXItaXRlbSB0ZXh0LXRoZW1lXCIgOmNsYXNzPVwieydpcy1zZWxlY3RlZCc6IGlzU2VsZWN0ZWQgLCAnaXMtZHJhZ2VudGVyJzogYXJlYSwgJ2lzLWluYWN0aXZlJzogZGlzYWJsZWRGb2xkZXIgfHwgZGlzYWJsZWQgJiYgZHJhZ2dlZEl0ZW0ubGVuZ3RoID4gMCAgfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c3R5bGU9XCJpbmRlbnRcIiBAY2xpY2s9XCJnZXRGb2xkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGRyYWdvdmVyLnByZXZlbnQ9XCJkcmFnRW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGRyYWdsZWF2ZT1cImRyYWdMZWF2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZHJvcD1cImRyYWdGaW5pc2goKVwiXG5cbiAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGNoZXZyb24tcmlnaHQtaWNvbiBAY2xpY2suc3RvcD1cInNob3dUcmVlXCIgc2l6ZT1cIjE3XCIgY2xhc3M9XCJpY29uLWFycm93XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsnaXMtb3BlbmVkJzogaXNWaXNpYmxlLCAnaXMtdmlzaWJsZSc6IG5vZGVzLmZvbGRlcnMubGVuZ3RoICE9PSAwfVwiPjwvY2hldnJvbi1yaWdodC1pY29uPlxuICAgICAgICAgICAgICAgIDxmb2xkZXItaWNvbiBzaXplPVwiMTdcIiBjbGFzcz1cImljb24gdGV4dC10aGVtZVwiPjwvZm9sZGVyLWljb24+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbFwiPnt7IG5vZGVzLm5hbWUgfX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPFRyZWVNZW51TmF2aWdhdG9yIDpkaXNhYmxlZD1cImRpc2FibGVDaGlsZHJlblwiIDpkZXB0aD1cImRlcHRoICsgMVwiIHYtaWY9XCJpc1Zpc2libGVcIiA6bm9kZXM9XCJpdGVtXCIgdi1mb3I9XCJpdGVtIGluIG5vZGVzLmZvbGRlcnNcIiA6a2V5PVwiaXRlbS5pZFwiLz5cbiAgICAgICAgPC9kaXY+XG4gICAgPC90cmFuc2l0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgICBpbXBvcnQgVHJlZU1lbnVOYXZpZ2F0b3IgZnJvbSAnQC9jb21wb25lbnRzL090aGVycy9UcmVlTWVudU5hdmlnYXRvcidcbiAgICBpbXBvcnQge0ZvbGRlckljb24sIENoZXZyb25SaWdodEljb259IGZyb20gJ3Z1ZS1mZWF0aGVyLWljb25zJ1xuICAgIGltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4J1xuICAgIGltcG9ydCB7ZXZlbnRzfSBmcm9tIFwiQC9idXNcIlxuXG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiAnVHJlZU1lbnVOYXZpZ2F0b3InLFxuICAgICAgICBwcm9wczogW1xuICAgICAgICAgICAgJ25vZGVzJywgJ2RlcHRoJyAsICdkaXNhYmxlZCcsXG4gICAgICAgIF0sXG4gICAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgICAgIFRyZWVNZW51TmF2aWdhdG9yLFxuICAgICAgICAgICAgQ2hldnJvblJpZ2h0SWNvbixcbiAgICAgICAgICAgIEZvbGRlckljb24sXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXB1dGVkOiB7XG4gICAgICAgICAgICAuLi5tYXBHZXR0ZXJzKFsnZmlsZUluZm9EZXRhaWwnXSksXG5cbiAgICAgICAgICAgIGRpc2FibGVkRm9sZGVyKCkge1xuICAgICAgICAgICAgICAgIGxldCBkaXNhYmxlRm9sZGVyID0gZmFsc2VcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRyYWdnZWRJdGVtLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdnZWRJdGVtLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0Rpc2FibGUgdGhlIHBhcmVudCBvZiB0aGUgZm9sZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLnR5cGUgPT09IFwiZm9sZGVyXCIgJiYgdGhpcy5ub2Rlcy5pZCA9PT0gaXRlbS5wYXJlbnRfaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVGb2xkZXIgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0Rpc2FibGUgdGhlIHNlbGYgZm9sZGVyIHdpdGggYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5pZCA9PT0gaXRlbS5pZCAmJiBpdGVtLnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUZvbGRlciA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVDaGlsZHJlbiA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVDaGlsZHJlbiA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVGb2xkZXIgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVDaGlsZHJlbiA9IGZhbHNlXG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzYWJsZUZvbGRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGVudCgpIHtcblxuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSB3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDI0ID8gMTcgOiAyMjtcblxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZGVwdGggPT0gMCA/IG9mZnNldCA6IG9mZnNldCArICh0aGlzLmRlcHRoICogMjApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtwYWRkaW5nTGVmdDogdmFsdWUgKyAncHgnfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcmVhOmZhbHNlLFxuICAgICAgICAgICAgICAgIGRyYWdnZWRJdGVtOltdLFxuICAgICAgICAgICAgICAgIGRpc2FibGVDaGlsZHJlbjpmYWxzZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgICAgZHJhZ0ZpbmlzaCgpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIG5vIHNlbGVjdGVkIGl0ZW1cbiAgICAgICAgICAgICAgICBpZighdGhpcy5maWxlSW5mb0RldGFpbC5pbmNsdWRlcyh0aGlzLmRyYWdnZWRJdGVtWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbW92ZUl0ZW0nLCB7dG9faXRlbTogdGhpcy5ub2RlcyAsbm9TZWxlY3RlZEl0ZW06dGhpcy5kcmFnZ2VkSXRlbVswXX0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92ZSBhbGwgc2VsZWN0ZWQgaXRlbXNcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZpbGVJbmZvRGV0YWlsLmluY2x1ZGVzKHRoaXMuZHJhZ2dlZEl0ZW1bMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtb3ZlSXRlbScsIHt0b19pdGVtOiB0aGlzLm5vZGVzICxub1NlbGVjdGVkSXRlbTpudWxsfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnZ2VkSXRlbSA9IFtdXG4gICAgICAgICAgICAgICAgdGhpcy5hcmVhID0gZmFsc2VcblxuICAgICAgICAgICAgICAgIGV2ZW50cy4kZW1pdCgnZHJvcCcpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgIGRyYWdFbnRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFyZWEgPSB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJhZ0xlYXZlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJlYSA9IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Rm9sZGVyKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50cy4kZW1pdCgnc2hvdy1mb2xkZXInLCB0aGlzLm5vZGVzKVxuXG4gICAgICAgICAgICAgICAgLy8gR28gdG8gZm9sZGVyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGlzVGhpc0xvY2F0aW9uKCdwdWJsaWMnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYnJvd3NlU2hhcmVkJywgW3sgZm9sZGVyOiB0aGlzLm5vZGVzLCBiYWNrOiBmYWxzZSwgaW5pdDogZmFsc2UgfV0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEZvbGRlcicsIFt7IGZvbGRlcjogdGhpcy5ub2RlcywgYmFjazogZmFsc2UsIGluaXQ6IGZhbHNlIH1dKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93VHJlZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9ICF0aGlzLmlzVmlzaWJsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVkKCkge1xuXG4gICAgICAgICAgICBldmVudHMuJG9uKCdkcm9wJyAsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdnZWRJdGVtID0gW11cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8vR2V0IGRyYWdnZWQgaXRlbVxuICAgICAgICAgICAgZXZlbnRzLiRvbignZHJhZ3N0YXJ0JyAsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAvL0lmIGlzIGRyYWdnZWQgaXRlbSBub3Qgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBpZighdGhpcy5maWxlSW5mb0RldGFpbC5pbmNsdWRlcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdnZWRJdGVtID0gW2RhdGFdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vSWYgYXJlIHRoZSBkcmFnZ2VkIGl0ZW1zIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgaWYodGhpcy5maWxlSW5mb0RldGFpbC5pbmNsdWRlcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdnZWRJdGVtID0gdGhpcy5maWxlSW5mb0RldGFpbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCBjbGlja2VkIGZvbGRlclxuICAgICAgICAgICAgZXZlbnRzLiRvbignc2hvdy1mb2xkZXInLCBub2RlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWQgPSBmYWxzZVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZXMuaWQgPT0gbm9kZS5pZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4gICAgQGltcG9ydCAnQGFzc2V0cy92dWVmaWxlbWFuYWdlci9fdmFyaWFibGVzJztcbiAgICBAaW1wb3J0ICdAYXNzZXRzL3Z1ZWZpbGVtYW5hZ2VyL19taXhpbnMnO1xuXG4gICAgLmlzLWluYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB9XG5cbiAgICAuaXMtZHJhZ2VudGVyIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIH1cblxuICAgIC5mb2xkZXItaXRlbSB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwYWRkaW5nOiA4cHggMDtcbiAgICAgICAgQGluY2x1ZGUgdHJhbnNpdGlvbigxNTBtcyk7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm9yZGVyOiAycHggZGFzaGVkIHRyYW5zcGFyZW50IDtcblxuICAgICAgICAuaWNvbiB7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgICAgIHdpZHRoOiAxNXB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA5cHg7XG4gICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogLTFweDtcblxuICAgICAgICAgICAgcGF0aCwgbGluZSwgcG9seWxpbmUsIHJlY3QsIGNpcmNsZSB7XG4gICAgICAgICAgICAgICAgQGluY2x1ZGUgdHJhbnNpdGlvbigxNTBtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAuaWNvbi1hcnJvdyB7XG4gICAgICAgICAgICBAaW5jbHVkZSB0cmFuc2l0aW9uKDMwMG1zKTtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4O1xuICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XG5cbiAgICAgICAgICAgICYuaXMtdmlzaWJsZSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJi5pcy1vcGVuZWQge1xuICAgICAgICAgICAgICAgIEBpbmNsdWRlIHRyYW5zZm9ybShyb3RhdGUoOTBkZWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC5sYWJlbCB7XG4gICAgICAgICAgICBAaW5jbHVkZSB0cmFuc2l0aW9uKDE1MG1zKTtcbiAgICAgICAgICAgIEBpbmNsdWRlIGZvbnQtc2l6ZSgxMyk7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xuICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBjb2xvcjogJHRleHQ7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEzMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgJjpob3ZlcixcbiAgICAgICAgJi5pcy1zZWxlY3RlZCB7XG5cbiAgICAgICAgICAgIC5pY29uIHtcbiAgICAgICAgICAgICAgICBwYXRoLCBsaW5lLCBwb2x5bGluZSwgcmVjdCwgY2lyY2xlIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAubGFiZWwge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcblxuICAgICAgICAuZm9sZGVyLWl0ZW0ge1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEYXJrIG1vZGVcbiAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XG5cbiAgICAgICAgLmZvbGRlci1pdGVtIHtcblxuICAgICAgICAgICAgLmxhYmVsIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogJGRhcmtfbW9kZV90ZXh0X3ByaW1hcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbjwvc3R5bGU+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTQtMCEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS00LTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9UcmVlTWVudU5hdmlnYXRvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD05MmFmMjBmZSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9UcmVlTWVudU5hdmlnYXRvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9UcmVlTWVudU5hdmlnYXRvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD05MmFmMjBmZSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjkyYWYyMGZlXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaXMtaW5hY3RpdmVbZGF0YS12LTkyYWYyMGZlXSB7XFxuICBvcGFjaXR5OiAwLjU7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLmlzLWRyYWdlbnRlcltkYXRhLXYtOTJhZjIwZmVdIHtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG59XFxuLmZvbGRlci1pdGVtW2RhdGEtdi05MmFmMjBmZV0ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwYWRkaW5nOiA4cHggMDtcXG4gIHRyYW5zaXRpb246IDE1MG1zIGFsbCBlYXNlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYm9yZGVyOiAycHggZGFzaGVkIHRyYW5zcGFyZW50O1xcbn1cXG4uZm9sZGVyLWl0ZW0gLmljb25bZGF0YS12LTkyYWYyMGZlXSB7XFxuICBsaW5lLWhlaWdodDogMDtcXG4gIHdpZHRoOiAxNXB4O1xcbiAgbWFyZ2luLXJpZ2h0OiA5cHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgbWFyZ2luLXRvcDogLTFweDtcXG59XFxuLmZvbGRlci1pdGVtIC5pY29uIHBhdGhbZGF0YS12LTkyYWYyMGZlXSwgLmZvbGRlci1pdGVtIC5pY29uIGxpbmVbZGF0YS12LTkyYWYyMGZlXSwgLmZvbGRlci1pdGVtIC5pY29uIHBvbHlsaW5lW2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbSAuaWNvbiByZWN0W2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbSAuaWNvbiBjaXJjbGVbZGF0YS12LTkyYWYyMGZlXSB7XFxuICB0cmFuc2l0aW9uOiAxNTBtcyBhbGwgZWFzZTtcXG59XFxuLmZvbGRlci1pdGVtIC5pY29uLWFycm93W2RhdGEtdi05MmFmMjBmZV0ge1xcbiAgdHJhbnNpdGlvbjogMzAwbXMgYWxsIGVhc2U7XFxuICBtYXJnaW4tcmlnaHQ6IDRweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBvcGFjaXR5OiAwO1xcbn1cXG4uZm9sZGVyLWl0ZW0gLmljb24tYXJyb3cuaXMtdmlzaWJsZVtkYXRhLXYtOTJhZjIwZmVdIHtcXG4gIG9wYWNpdHk6IDE7XFxufVxcbi5mb2xkZXItaXRlbSAuaWNvbi1hcnJvdy5pcy1vcGVuZWRbZGF0YS12LTkyYWYyMGZlXSB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxufVxcbi5mb2xkZXItaXRlbSAubGFiZWxbZGF0YS12LTkyYWYyMGZlXSB7XFxuICB0cmFuc2l0aW9uOiAxNTBtcyBhbGwgZWFzZTtcXG4gIGZvbnQtc2l6ZTogMC44MTI1ZW07XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBjb2xvcjogIzFCMjUzOTtcXG4gIG1heC13aWR0aDogMTMwcHg7XFxufVxcbi5mb2xkZXItaXRlbTpob3ZlciAuaWNvbiBwYXRoW2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbTpob3ZlciAuaWNvbiBsaW5lW2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbTpob3ZlciAuaWNvbiBwb2x5bGluZVtkYXRhLXYtOTJhZjIwZmVdLCAuZm9sZGVyLWl0ZW06aG92ZXIgLmljb24gcmVjdFtkYXRhLXYtOTJhZjIwZmVdLCAuZm9sZGVyLWl0ZW06aG92ZXIgLmljb24gY2lyY2xlW2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbS5pcy1zZWxlY3RlZCAuaWNvbiBwYXRoW2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbS5pcy1zZWxlY3RlZCAuaWNvbiBsaW5lW2RhdGEtdi05MmFmMjBmZV0sIC5mb2xkZXItaXRlbS5pcy1zZWxlY3RlZCAuaWNvbiBwb2x5bGluZVtkYXRhLXYtOTJhZjIwZmVdLCAuZm9sZGVyLWl0ZW0uaXMtc2VsZWN0ZWQgLmljb24gcmVjdFtkYXRhLXYtOTJhZjIwZmVdLCAuZm9sZGVyLWl0ZW0uaXMtc2VsZWN0ZWQgLmljb24gY2lyY2xlW2RhdGEtdi05MmFmMjBmZV0ge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxufVxcbi5mb2xkZXItaXRlbTpob3ZlciAubGFiZWxbZGF0YS12LTkyYWYyMGZlXSwgLmZvbGRlci1pdGVtLmlzLXNlbGVjdGVkIC5sYWJlbFtkYXRhLXYtOTJhZjIwZmVdIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xcbi5mb2xkZXItaXRlbVtkYXRhLXYtOTJhZjIwZmVdIHtcXG4gICAgcGFkZGluZzogOHB4IDA7XFxufVxcbn1cXG5AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XFxuLmZvbGRlci1pdGVtIC5sYWJlbFtkYXRhLXYtOTJhZjIwZmVdIHtcXG4gICAgY29sb3I6ICNiZWM2Y2Y7XFxufVxcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9UcmVlTWVudU5hdmlnYXRvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD05MmFmMjBmZSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTkyYWYyMGZlJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTkyYWYyMGZlJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9UcmVlTWVudU5hdmlnYXRvci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD05MmFmMjBmZSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1RyZWVNZW51TmF2aWdhdG9yLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTkyYWYyMGZlJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS03LTIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTctMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NoYXJlZEZpbGVCcm93c2VyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9c2NzcyZcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0zIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU2hhcmVkRmlsZUJyb3dzZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0zIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU2hhcmVkRmlsZUJyb3dzZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI2ZpbGVzLXZpZXcge1xcbiAgZm9udC1mYW1pbHk6ICdOdW5pdG8nLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtaW4td2lkdGg6IDMyMHB4O1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgcGFkZGluZy1yaWdodDogMTVweDtcXG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTctMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNy0zIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vU2hhcmVkRmlsZUJyb3dzZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1zY3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNy0yIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS03LTMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9TaGFyZWRGaWxlQnJvd3Nlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPXNjc3MmXCIiXSwic291cmNlUm9vdCI6IiJ9